/* ====== 1) Biến màu “an toàn” cho toàn site ====== */
:root{
  --bg: #ffffff;
  --text: #111111;
  --muted-text: #6b7280;
  --border: #d1d5db;
  --bg-elev: #f9fafb;

  /* card/badge */
  --card-bg: #ffffff;
  --chip-border: #d1d5db;

  /* input */
  --input-bg: #ffffff;
  --input-text: #111111;
  --input-border: #d1d5db;
  --input-placeholder: #6b7280;
}

/* Dark mode khi SITE chủ động bật (qua data-theme/class) */
html[data-theme="dark"],
body[data-theme="dark"],
html.dark,
body.dark,
.theme-dark{
  --bg: #0b0f19;
  --text: #e5e7eb;
  --muted-text: #9ca3af;
  --border: #374151;
  --bg-elev: #111827;

  --card-bg: #0f172a;
  --chip-border: #374151;

  --input-bg: #111827;
  --input-text: #e5e7eb;
  --input-border: #374151;
  --input-placeholder: #9ca3af;
}

/* Fallback CHỈ chạy khi site KHÔNG gắn theme (không data-theme, không .dark) */
@media (prefers-color-scheme: dark){
  html:not([data-theme]):not(.dark):not(.theme-dark){
    color-scheme: dark;
    --bg: #0b0f19;
    --text: #e5e7eb;
    --muted-text: #9ca3af;
    --border: #374151;
    --bg-elev: #111827;

    --card-bg: #0f172a;
    --chip-border: #374151;

    --input-bg: #111827;
    --input-text: #e5e7eb;
    --input-border: #374151;
    --input-placeholder: #9ca3af;
  }
}

/* ====== 2) Form controls đồng bộ theme cho toàn site ====== */
/* Thêm selector input (không type) để bắt mọi trường hợp */
input,
input[type="text"],
input[type="search"],
input[type="email"],
input[type="url"],
input[type="password"],
input[type="number"],
select,
textarea{
  color: var(--input-text) !important;
  background: var(--input-bg) !important;
  border: 1px solid var(--input-border) !important;
  border-radius: 8px;
  padding: .45rem .6rem;
  outline: none;
  transition: border-color .15s ease, background .15s ease, color .15s ease;
}

input::placeholder,
textarea::placeholder{
  color: var(--input-placeholder) !important;
}

/* Focus state */
input:focus,
select:focus,
textarea:focus{
  border-color: #3b82f6 !important;
  box-shadow: 0 0 0 3px rgba(59,130,246,.2);
}

/* Disabled state */
input:disabled,
select:disabled,
textarea:disabled{
  opacity: .6;
  cursor: not-allowed;
}

/* ====== 3) Các tiện ích dùng ở Library ====== */
.card{
  text-decoration: none;
  color: inherit;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 6px 16px rgba(0,0,0,.12);
  background: var(--card-bg);
}

.chip{
  padding: .35rem .6rem;
  border: 1px solid var(--chip-border);
  border-radius: 999px;
  text-decoration: none;
  opacity: .9;
}

.grid{
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 16px;
}
